#include <cmath>

#include <MathUtils.h>

#include <Vector.h>


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор сложени€ дл€ вектора
*/
//---
Vector Vector::operator+(const Vector& rhs) const
{
  return {dx + rhs.dx, dy + rhs.dy};
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор добавлени€ и присваивани€ дл€ вектора
*/
//---
Vector& Vector::operator+=(const Vector& rhs)
{
  dx += rhs.dx;
  dy += rhs.dy;

  return *this;
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор вычитани€ дл€ вектора
*/
//---
Vector Vector::operator-(const Vector& rhs) const
{
  return {dx - rhs.dx, dy - rhs.dy};
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор вычитани€ и присваивани€ дл€ вектора
*/
//---
Vector& Vector::operator-=(const Vector& rhs)
{
  dx -= rhs.dx;
  dy -= rhs.dy;

  return *this;
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор умножени€ дл€ вектора
*/
//---
Vector Vector::operator*(double rhs) const
{
  return {dx * rhs, dy * rhs};
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор умножени€ и присваивани€ дл€ вектора
*/
//---
Vector& Vector::operator*=(double rhs)
{
  dx *= rhs;
  dy *= rhs;

  return *this;
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор равенства дл€ вектора
*/
//---
bool Vector::operator==(const Vector& rhs) const
{
  return math_utils::doubleEQ(dx, rhs.dx) * math_utils::doubleEQ(dy, rhs.dy);
}


//------------------------------------------------------------------------------
/**
  ѕерегруженный оператор неравенства дл€ вектора
*/
//---
bool Vector::operator!=(const Vector& rhs) const
{
  return !(*this == rhs);
}


//------------------------------------------------------------------------------
/**
  ƒлина вектора
*/
//---
double Vector::Length() const
{
  return std::hypot(dx, dy);
}
